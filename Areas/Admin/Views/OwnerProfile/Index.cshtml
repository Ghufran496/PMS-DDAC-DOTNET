@using Microsoft.AspNetCore.Identity
@model PMS_DDAC.Models.ViewModels.OwnerCompositeViewModel
@inject SignInManager<PMS_DDAC.Models.UserModel> SignInManager
@{
    ViewData["Title"] = "Owner Profile";
}

@if (TempData["Success"] != null)
{
    <div class="alert alert-success">@TempData["Success"]</div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}

<div class="container">
    <h2>Owner Profile</h2>
    <form method="post" asp-action="UpdateProfile">
        <div>
            <label asp-for="Profile.FullName"></label>
            <input asp-for="Profile.FullName" />
        </div>
        <div>
            <label asp-for="Profile.Email"></label>
            <input asp-for="Profile.Email" />
        </div>
        <div>
            <label asp-for="Profile.PhoneNumber"></label>
            <input asp-for="Profile.PhoneNumber" />
        </div>
        <button type="submit">Update Profile</button>
    </form>

    <hr />

    <h3>Change Password</h3>
    <form method="post" asp-action="ChangePassword">
        <div>
            <label asp-for="Password.CurrentPassword"></label>
            <input asp-for="Password.CurrentPassword" type="password" />
        </div>
        <div>
            <label asp-for="Password.NewPassword"></label>
            <input asp-for="Password.NewPassword" type="password" />
        </div>
        <div>
            <label asp-for="Password.ConfirmNewPassword"></label>
            <input asp-for="Password.ConfirmNewPassword" type="password" />
        </div>
        <button type="submit">Change Password</button>
    </form>

    <hr />
    <h3 style="text-align:center">Delete Owner Account</h3>
    <form method="post" asp-action="DeleteAccount" style="background-color: LightGoldenRodYellow" onsubmit="return confirm('Are you sure you want to delete your account? This action cannot be undone.');">
        <button type="submit" class="btn btn-danger mx-auto d-block" style="background: red">Delete My Account</button>
    </form>
    <hr />
    <h3 style="text-align:center">Change Back to Tenant Role (Dev Test)</h3>
    <form method="post" asp-action="ChangeToTenantRole">
        <button type="submit" class="btn btn-warning mx-auto d-block">Switch to Tenant Role</button>
    </form>

</div>
